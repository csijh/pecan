x = @x
----------
START, 2, ACT, x, STOP
==========
x = @x ("x" / "y")
----------
START, 12, BOTH, 2, ACT, x, AND, EITHER, 2, STRING1, 120, OR, STRING1, 121,
STOP
==========
// Calculator tutorial step 1
digit = '0..9' @number
----------
START, 9, BOTH, 4, LOW1, 48, HIGH1, 57, AND, ACT, number, STOP
==========
// Step 2
number = ('0..9')+ @number
----------
START, 13, BOTH, 8, DO, AND, MAYBE, MANY, LOW1, 48, HIGH1, 57, AND, ACT,
number, STOP
==========
// Step 3
sum = number / number '+' number @2add
number = ('0..9')+ @number
----------
START, 22, EITHER, 2, GO, 21, OR, BOTH, 2, GO, 16, AND, BOTH, 2, SET1, 43,
AND, BOTH, 2, GO, 6, AND, ACT, add, STOP, START, 13, BOTH, 8, DO, AND, MAYBE,
MANY, LOW1, 48, HIGH1, 57, AND, ACT, number, STOP
==========
// Step 4
sum = number '+' number @2add / number
number = ('0..9')+ @number
----------
START, 22, EITHER, 17, BOTH, 2, GO, 19, AND, BOTH, 2, SET1, 43, AND, BOTH, 2,
GO, 9, AND, ACT, add, OR, GO, 3, STOP, START, 13, BOTH, 8, DO, AND, MAYBE,
MANY, LOW1, 48, HIGH1, 57, AND, ACT, number, STOP
==========
// Step 5
sum = [number '+'] number @2add / number
number = ('0..9')+ @number
----------
START, 24, EITHER, 19, BOTH, 9, LOOK, TRY, BOTH, 2, GO, 17, AND, SET1, 43,
AND, BOTH, 2, GO, 9, AND, ACT, add, OR, GO, 3, STOP, START, 13, BOTH, 8, DO,
AND, MAYBE, MANY, LOW1, 48, HIGH1, 57, AND, ACT, number, STOP
==========
// Step 6
sum = number ('+' number @2add)?
number = ('0..9')+ @number
----------
START, 19, BOTH, 2, GO, 18, AND, MAYBE, ONE, BOTH, 2, SET1, 43, AND, BOTH, 2,
GO, 6, AND, ACT, add, STOP, START, 13, BOTH, 8, DO, AND, MAYBE, MANY, LOW1,
48, HIGH1, 57, AND, ACT, number, STOP
==========
// Step 7
sum = number ('+' @ number @2add)?
number = ('0..9')+ @number
----------
START, 23, BOTH, 2, GO, 22, AND, MAYBE, ONE, BOTH, 2, SET1, 43, AND, BOTH, 1,
DROP, AND, BOTH, 2, GO, 6, AND, ACT, add, STOP, START, 13, BOTH, 8, DO, AND,
MAYBE, MANY, LOW1, 48, HIGH1, 57, AND, ACT, number, STOP
==========
// Step 8
sum = number ('+' @ number @2add)? end
number = ('0..9')+ @number
end = 13? 10 @
----------
START, 28, BOTH, 2, GO, 27, AND, BOTH, 18, MAYBE, ONE, BOTH, 2, SET1, 43, AND,
BOTH, 1, DROP, AND, BOTH, 2, GO, 9, AND, ACT, add, AND, GO, 19, STOP, START,
13, BOTH, 8, DO, AND, MAYBE, MANY, LOW1, 48, HIGH1, 57, AND, ACT, number,
STOP, START, 13, BOTH, 4, MAYBE, ONE, STRING1, 13, AND, BOTH, 2, STRING1, 10,
AND, DROP, STOP
==========
// Step 9
sum = number ('+' @ number @2add)* end
number = ('0..9')+ @number
end = 13? 10 @
----------
START, 28, BOTH, 2, GO, 27, AND, BOTH, 18, MAYBE, MANY, BOTH, 2, SET1, 43,
AND, BOTH, 1, DROP, AND, BOTH, 2, GO, 9, AND, ACT, add, AND, GO, 19, STOP,
START, 13, BOTH, 8, DO, AND, MAYBE, MANY, LOW1, 48, HIGH1, 57, AND, ACT,
number, STOP, START, 13, BOTH, 4, MAYBE, ONE, STRING1, 13, AND, BOTH, 2,
STRING1, 10, AND, DROP, STOP
==========
// Step 10
sum = number ('+' @ number @2add / '-' @ number @2subtract)* end
number = ('0..9')+ @number
end = 13? 10 @
----------
START, 47, BOTH, 2, GO, 46, AND, BOTH, 37, MAYBE, MANY, EITHER, 16, BOTH, 2,
SET1, 43, AND, BOTH, 1, DROP, AND, BOTH, 2, GO, 26, AND, ACT, add, OR, BOTH,
2, SET1, 45, AND, BOTH, 1, DROP, AND, BOTH, 2, GO, 9, AND, ACT, subtract, AND,
GO, 19, STOP, START, 13, BOTH, 8, DO, AND, MAYBE, MANY, LOW1, 48, HIGH1, 57,
AND, ACT, number, STOP, START, 13, BOTH, 4, MAYBE, ONE, STRING1, 13, AND,
BOTH, 2, STRING1, 10, AND, DROP, STOP
==========
// Step 11
sum = number ('+' @ number @2add / '-' @ number @2subtract)* end
number = (#digit '0..9')+ @number
end = #newline 13? 10 @
----------
START, 47, BOTH, 2, GO, 46, AND, BOTH, 37, MAYBE, MANY, EITHER, 16, BOTH, 2,
SET1, 43, AND, BOTH, 1, DROP, AND, BOTH, 2, GO, 26, AND, ACT, add, OR, BOTH,
2, SET1, 45, AND, BOTH, 1, DROP, AND, BOTH, 2, GO, 9, AND, ACT, subtract, AND,
GO, 24, STOP, START, 18, BOTH, 13, DO, AND, MAYBE, MANY, BOTH, 2, MARK, digit,
AND, LOW1, 48, HIGH1, 57, AND, ACT, number, STOP, START, 18, BOTH, 2, MARK,
newline, AND, BOTH, 4, MAYBE, ONE, STRING1, 13, AND, BOTH, 2, STRING1, 10,
AND, DROP, STOP
==========
// Step 12
sum = number (plus number @2add / minus number @2subtract)* end
number = digit+ @number
plus = #operator '+' @
minus = #operator '-' @
digit = #digit '0..9'
end = #newline 13? 10 @
----------
START, 39, BOTH, 2, GO, 38, AND, BOTH, 29, MAYBE, MANY, EITHER, 12, BOTH, 2,
GO, 41, AND, BOTH, 2, GO, 22, AND, ACT, add, OR, BOTH, 2, GO, 42, AND, BOTH,
2, GO, 9, AND, ACT, subtract, AND, GO, 57, STOP, START, 11, BOTH, 6, DO, AND,
MAYBE, MANY, GO, 34, AND, ACT, number, STOP, START, 11, BOTH, 2, MARK,
operator, AND, BOTH, 2, SET1, 43, AND, DROP, STOP, START, 11, BOTH, 2, MARK,
operator, AND, BOTH, 2, SET1, 45, AND, DROP, STOP, START, 9, BOTH, 2, MARK,
digit, AND, LOW1, 48, HIGH1, 57, STOP, START, 18, BOTH, 2, MARK, newline, AND,
BOTH, 4, MAYBE, ONE, STRING1, 13, AND, BOTH, 2, STRING1, 10, AND, DROP, STOP
